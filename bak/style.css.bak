:root {
    --primary: #000000;       /* Apple Pro Black */
    --bg: #F5F5F7;           /* Apple Web Background Gray */
    --card: #FFFFFF;
    --text-main: #1D1D1F;    /* Apple Typography Color */
    --text-sub: #86868B;     /* Apple Subtext Color */
    --input-bg: #E8E8ED;     /* iOS Input Background */
    --border: #D2D2D7;
}

* { box-sizing: border-box; -webkit-font-smoothing: antialiased; }

/* [모바일 기본] 스크롤이 자연스럽게 생기도록 설정 */
body {
    font-family: -apple-system, BlinkMacSystemFont, "San Francisco", "Helvetica Neue", Helvetica, Arial, sans-serif;
    display: flex; justify-content: center; 
    
    /* 높이 제한 해제 -> 내용만큼 길어짐 */
    min-height: 100vh; 
    
    margin: 0; padding: 20px; /* 모바일에서도 약간의 여백 */
    background-color: var(--bg); line-height: 1.5; color: var(--text-main);
    
    /* 모바일에서는 전체 스크롤 허용 */
    overflow-y: auto; 
    
    -webkit-user-select: none; user-select: none;
}

/* [모바일 기본] 컨테이너도 키가 쑥쑥 크도록 */
.container {
    width: 100%; max-width: 460px; 
    
    /* 높이 고정(90vh) 삭제 -> 내용물에 맞춰 늘어남 */
    height: auto; 
    min-height: 80vh; /* 너무 작아지지 않게 최소 높이만 지정 */
    
    padding: 30px;
    border-radius: 30px; 
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.6);
    display: flex; flex-direction: column; 
    
    /* 내부 스크롤 삭제 (전체 스크롤 쓸 거니까) */
    overflow: visible; 
}

.input-section { width: 100%; flex-shrink: 0; }
.list-section { 
    width: 100%; flex-grow: 1; display: flex; flex-direction: column;
    min-height: 0; margin-top: 20px; 
}

.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
h1 { font-size: 1.8rem; font-weight: 700; margin: 0; letter-spacing: -0.02em; }

.link-group { display: flex; gap: 14px; }
.link-icon {
    height: 40px; width: auto; border-radius: 10px;
    cursor: pointer; transition: transform 0.2s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.06);
}
.link-icon:hover { transform: scale(1.05); }

.carrier-info { text-align: center; margin-bottom: 20px; }
.carrier-pill {
    display: inline-block; font-size: 0.8rem; color: var(--text-sub);
    background-color: rgba(0,0,0,0.03); padding: 8px 14px; border-radius: 99px; font-weight: 500;
}

.input-group { display: flex; flex-direction: column; gap: 14px; margin-bottom: 20px; }

input, select {
    width: 100%; padding: 18px; border: none;
    border-radius: 14px; font-size: 1.05rem; outline: none;
    background: var(--input-bg); color: var(--text-main);
    transition: background 0.2s;
    -webkit-user-select: text; user-select: text;
}
input::placeholder { color: #9CA3AF; }
input:focus, select:focus {
    background: #FFFFFF;
    box-shadow: 0 0 0 2px #0071E3;
}

.prediction-area {
    display: flex; justify-content: space-between; align-items: center;
    background-color: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px);
    padding: 12px 18px; border-radius: 14px;
    font-size: 0.95rem; color: #0071E3; font-weight: 600;
    box-shadow: 0 4px 15px rgba(0,0,0,0.03);
    border: 1px solid rgba(0,0,0,0.04);
    display: none; margin-top: -5px; animation: slideDown 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}
.prediction-area.show { display: flex; }
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px) scale(0.98); } to { opacity: 1; transform: translateY(0) scale(1); } }

.btn-change {
    background: rgba(0,0,0,0.05); border: none; color: var(--text-sub);
    padding: 6px 12px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; font-weight: 600;
}
#carrierSelect { display: none; }
#carrierSelect.show { display: block; }

button.btn-add {
    width: 100%; padding: 18px; border: none; 
    background-color: var(--primary); color: white; 
    border-radius: 16px; cursor: pointer; font-weight: 600; font-size: 1.05rem; 
    transition: transform 0.1s, background-color 0.2s;
}
button.btn-add:hover { background-color: #333333; }
button.btn-add:active { transform: scale(0.98); }
button.btn-add:disabled { background-color: #D1D1D6; cursor: not-allowed; }

.filter-box { 
    margin-bottom: 20px; padding: 3px; 
    background: #7676801f; border-radius: 10px; 
    flex-shrink: 0;
}
.filter-tabs {
    display: flex; position: relative; border-radius: 8px; height: 32px;
}
.filter-btn {
    flex: 1; border: none; background: transparent;
    font-size: 0.85rem; font-weight: 500; color: var(--text-main);
    cursor: pointer; z-index: 2; transition: opacity 0.2s;
    line-height: 32px; padding: 0;
}
.filter-btn:hover { opacity: 0.7; }
.filter-btn.active { font-weight: 600; }

.tab-glider {
    position: absolute; top: 0; left: 0; height: 100%; width: 33.333%;
    background-color: #FFFFFF; border-radius: 7px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.12), 0 3px 1px rgba(0,0,0,0.04);
    z-index: 1; transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

/* [모바일] 리스트 내부 스크롤 제거 (전체 스크롤 사용) */
#tracking-list { 
    list-style: none; padding: 0; margin: 0;
    
    /* 모바일에서는 그냥 다 보여줌 */
    height: auto; 
    overflow: visible; 
}

#tracking-list li {
    background-color: #FFFFFF; padding: 24px; border-radius: 18px; 
    margin-bottom: 16px; display: flex;
    justify-content: space-between; align-items: flex-start;
    box-shadow: 0 2px 10px rgba(0,0,0,0.02);
    border: 1px solid rgba(0,0,0,0.03);
    transition: transform 0.2s;
}
#tracking-list li:hover { transform: scale(1.01); }

.info-area { flex-grow: 1; min-width: 0; margin-right: 20px; }
.item-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }

.item-title { 
    font-size: 1.1rem; font-weight: 600; color: var(--text-main); 
    overflow: hidden; text-overflow: ellipsis; white-space: nowrap; 
    cursor: pointer;
}
.item-title:hover { text-decoration: underline; text-decoration-style: dotted; }

.carrier-badge { font-size: 0.75rem; background: #F2F2F7; color: #6e6e73; padding: 4px 10px; border-radius: 6px; font-weight: 600; }

.d-day-badge {
    font-size: 0.7rem; color: #fff; background-color: #FF2D55; 
    padding: 2px 8px; border-radius: 10px; font-weight: 700;
    margin-left: 5px; vertical-align: middle;
}

.meta-row { display: flex; flex-direction: column; gap: 4px; }
.number { text-decoration: none; cursor: pointer; font-size: 0.9rem; color: #86868B; transition: color 0.2s; }
.number:hover { color: var(--text-main); text-decoration: underline; }

.status-row { display: flex; align-items: center; gap: 10px; margin-top: 8px; }
.status-text { font-size: 0.95rem; font-weight: 600; color: var(--text-main); }
.detail-text { font-size: 0.85rem; color: var(--text-sub); }

.status-delivered .status-text { color: #34C759; }
.status-error .status-text { color: #FF3B30; }
.status-global .status-text { color: #AF52DE; } 

.actions { display: flex; flex-direction: column; gap: 8px; }
.actions button { padding: 8px 16px; border: none; border-radius: 18px; cursor: pointer; font-size: 0.85rem; font-weight: 600; white-space: nowrap; }
.btn-track { background-color: #F2F2F7; color: var(--text-main); }
.btn-delete { background-color: rgba(255, 59, 48, 0.1); color: #FF3B30; }

.empty-msg { 
    flex-grow: 1; display: flex; align-items: center; justify-content: center;
    color: #86868B; font-size: 1rem; 
    min-height: 100px; /* 모바일에서 너무 납작해지지 않게 */
}
.toast { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: rgba(30, 30, 30, 0.85); backdrop-filter: blur(10px); color: white; padding: 12px 24px; border-radius: 30px; font-size: 0.9rem; display: none; z-index: 2000; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }


/* =========================================
   [반응형] PC & 태블릿 (가로 폭 768px 이상)
   여기서만 "고정된 앱 박스 + 내부 스크롤" 적용
   ========================================= */
@media (min-width: 768px) {
    body { 
        align-items: center; 
        height: 100vh; /* PC는 높이 고정 */
        padding: 40px; 
        overflow: hidden; /* 바디 스크롤 막음 */
    }

    .container {
        flex-direction: row; 
        align-items: flex-start;
        max-width: 1000px; 
        
        /* PC에서는 다시 고정 높이 + 내부 스크롤 */
        height: 90vh; 
        overflow: hidden; 

        padding: 40px; gap: 50px;
    }
    
    .input-section {
        width: 360px; flex-shrink: 0; height: 100%;
        overflow-y: auto; padding: 4px 10px 4px 4px;
        display: block; 
    }
    
    .input-section::-webkit-scrollbar { width: 0; }
    .list-section { flex-grow: 1; margin-top: 0; height: 100%; }
    .filter-box { margin-bottom: 20px; }

    /* PC에서 리스트 내부 스크롤 부활 */
    #tracking-list {
        height: 100%; /* 부모 높이 채움 */
        overflow-y: auto; /* 내용 넘치면 스크롤 */
        padding-right: 4px; 
        padding-left: 4px; 
        padding-bottom: 10px;
    }

    /* PC 스크롤바 꾸미기 */
    #tracking-list::-webkit-scrollbar { width: 4px; }
    #tracking-list::-webkit-scrollbar-track { background: transparent; }
    #tracking-list::-webkit-scrollbar-thumb { background-color: rgba(0, 0, 0, 0.2); border-radius: 10px; }
    #tracking-list::-webkit-scrollbar-thumb:hover { background-color: rgba(0, 0, 0, 0.4); }
}
